controller:
  image:
    registry: "registry1.dso.mil"
    repository: "ironbank/opensource/jenkins/jenkins"
    tag: "2.440.3-lts"
  sidecars:
    configAutoReload:
      image:
        registry: "registry1.dso.mil"
        repository: "ironbank/kiwigrid/k8s-sidecar"
        tag: "1.26.1"
  jenkinsUrl: https://jenkins.###ZARF_VAR_DOMAIN###
  disableRememberMe: true
  resources:
    requests:
      cpu: "50m"
      memory: "512Mi"
    limits:
      cpu: "2000m"
      memory: "8192Mi"
  initContainerResources:
    requests:
      cpu: "50m"
      memory: "512Mi"
    limits:
      cpu: "2000m"
      memory: "8192Mi"
  installPlugins:
    - kubernetes:4209.vc646b_71e5269
    - workflow-aggregator:596.v8c21c963d92d
    - git:5.2.1
    - configuration-as-code:1775.v810dc950b_514
    - oic-auth:4.257.v5360e8489e8b_
  overwritePlugins: true
  JCasC:
    defaultConfig: true
    configScripts:
      keycloak: |-
        jenkins:
          securityRealm:
            oic:
              clientId: "uds-core-jenkins"
              clientSecret: "###ZARF_VAR_JENKINS_CLIENT_SECRET###"
              wellKnownOpenIDConfigurationUrl: "https://sso.###ZARF_VAR_DOMAIN###/realms/uds"
              tokenServerUrl: "https://sso.###ZARF_VAR_DOMAIN###/realms/uds/protocol/openid-connect/token"
              authorizationServerUrl: "https://sso.###ZARF_VAR_DOMAIN###/realms/uds/protocol/openid-connect/auth"
              scopes: "openid profile"
              disableSslVerification: false
              endSessionEndpoint: "https://sso.###ZARF_VAR_DOMAIN###/realms/uds/protocol/openid-connect/logout"
              escapeHatchEnabled: false
              logoutFromOpenidProvider: true
              userNameField: "preferred_username"
              emailFieldName: "email"
              groupsFieldName: "groups"
  probes:
    startupProbe:
      periodSeconds: 10
      failureThreshold: 30
    livenessProbe:
      initialDelaySeconds: 60
    readinessProbe:
      initialDelaySeconds: 60

agent:
  enabled: true
  jenkinsUrl: https://jenkins.###ZARF_VAR_DOMAIN###
  image:
    # -- Repository to pull the agent jnlp image from
    repository: "registry1.dso.mil/ironbank/opensource/jenkins/inbound-agent"
    # -- Tag of the image to pull
    tag: "3186.vc3b_7249b_87eb_-1"
  resources:
    requests:
      cpu: "512m"
      memory: "512Mi"
    limits:
      cpu: "512m"
      memory: "512Mi"
  alwaysPullImage: true
persistence:
  enabled: true
#  storageClass: "your-storage-class-here"

helmtest:
  # A testing framework for bash
  bats:
    # Bash Automated Testing System (BATS)
    image:
      registry: "registry1.dso.mil"
      repository: "ironbank/opensource/bats/bats"
      tag: "v1.10.0-ubi9"

monitoring:
  enabled: false

networkPolicies:
  enabled: false
